
##############
# properties #
##############

[[property]]
name = "playdate.argv"
type = "string[]"
note = "Command line arguments passed to the simulator."

[[property]]
name = "playdate.isSimulator"
type = "boolean"

[[property]]
name = "playdate.frameTimer.delay"
type = "integer"

[[property]]
name = "discardOnCompletion"
type = "boolean="

[[property]]
name = "playdate.frameTimer.duration"
type = "integer"

[[property]]
name = "playdate.frameTimer.frame"
type = "integer"

[[property]]
name = "playdate.frameTimer.repeats"
type = "boolean"

[[property]]
name = "playdate.frameTimer.reverses"
type = "boolean"

[[property]]
name = "playdate.frameTimer.timerEndedArgs"
type = "nil|table<integer, any>" # I think this is equivalent to "nil|any[]"
note = "Array of arguments passed to the timerEnded callback as arguments."

[[property]]
name = "playdate.geometry.arc.x"
type = "number"

[[property]]
name = "playdate.geometry.arc.y"
type = "number"

[[property]]
name = "playdate.geometry.arc.radius"
type = "number"

[[property]]
name = "playdate.geometry.arc.startAngle"
type = "number"

[[property]]
name = "playdate.geometry.arc.endAngle"
type = "number"

[[property]]
name = "playdate.geometry.arc.direction"
type = "boolean"

[[property]]
name = "playdate.geometry.lineSegment.x1"
type = "integer"

[[property]]
name = "playdate.geometry.lineSegment.y1"
type = "integer"

[[property]]
name = "playdate.geometry.lineSegment.x2"
type = "integer"

[[property]]
name = "playdate.geometry.lineSegment.y2"
type = "integer"

[[property]]
name = "playdate.geometry.lineSegment.x"
type = "number"

[[property]]
name = "playdate.geometry.lineSegment.y"
type = "number"

[[property]]
name = "playdate.geometry.rect.x"
type = "number"

[[property]]
name = "playdate.geometry.rect.y"
type = "number"

[[property]]
name = "playdate.geometry.rect.width"
type = "number"

[[property]]
name = "playdate.geometry.rect.height"
type = "number"

[[property]]
name = "playdate.geometry.rect.top"
type = "number"

[[property]]
name = "playdate.geometry.rect.bottom"
type = "number"

[[property]]
name = "playdate.geometry.rect.left"
type = "number"
note = "read-only"

[[property]]
name = "playdate.geometry.rect.right"
type = "number"
note = "read-only"

[[property]]
name = "playdate.geometry.rect.size"
type = "playdate.geometry.size"
note = "read-only"


[[property]]
name = "playdate.geometry.size.width"
type = "number"

[[property]]
name = "playdate.geometry.size.height"
type = "number"


[[property]]
name = "playdate.geometry.vector2D.dx"
type = "number"

[[property]]
name = "playdate.geometry.vector2D.dy"
type = "number"

[[property]]
name = "playdate.graphics.animation.loop.delay"
type = "number"

[[property]]
name = "playdate.graphics.animation.loop.startFrame"
type = "integer"

[[property]]
name = "playdate.graphics.animation.loop.endFrame"
type = "integer"

[[property]]
name = "playdate.graphics.animation.loop.frame"
type = "integer"

[[property]]
name = "playdate.graphics.animation.loop.step"
type = "integer"

[[property]]
name = "playdate.graphics.animation.loop.shouldLoop"
type = "boolean"

[[property]]
name = "playdate.graphics.animation.loop.paused"
type = "boolean"


[[property]]
name = "playdate.graphics.animation.blinker.onDuration"
type = "integer"

[[property]]
name = "playdate.graphics.animation.blinker.offDuration"
type = "integer"

[[property]]
name = "playdate.graphics.animation.blinker.loop"
type = "boolean"

[[property]]
name = "playdate.graphics.animation.blinker.cycles"
type = "integer"

[[property]]
name = "playdate.graphics.animation.blinker.default"
type = "boolean"

[[property]]
name = "playdate.graphics.animation.blinker.counter"
type = "integer"

[[property]]
name = "playdate.graphics.animation.blinker.on"
type = "boolean"

[[property]]
name = "playdate.graphics.animation.blinker.running"
type = "boolean"


[[property]]
name = "playdate.graphics.animator.repeatCount"
type = "integer"

[[property]]
name = "playdate.graphics.animator.reverses"
type = "integer"

[[property]]
name = "playdate.graphics.animator.easingAmplitude"
type = "number"

[[property]]
name = "playdate.graphics.animator.easingPeriod"
type = "number"

[[property]]
name = "playdate.graphics.animator.s"
type = "number|nil"

[[property]]
name = "playdate.graphics.animator.a"
type = "number|nil"

[[property]]
name = "playdate.graphics.animator.p"
type = "number|nil"

[[property]]
name = "playdate.graphics.image.x"
type = "integer"

[[property]]
name = "playdate.graphics.image.y"
type = "integer"

[[property]]
name = "playdate.graphics.image.width"
type = "integer"

[[property]]
name = "playdate.graphics.image.height"
type = "integer"

[[property]]
name = "playdate.graphics.nineSlice.innerRect"
type = "playdate.geometry.rect"
note = "Read-only: The inner rectangle of the nine slice."

[[property]]
name = "playdate.graphics.nineSlice.minWidth"
type = "integer"
note = "Read-only: The minimum width of the nine slice."

[[property]]
name = "playdate.graphics.nineSlice.minHeight"
type = "integer"
note = "Read-only: The minimum height of the nine slice."

[[property]]
name = "playdate.graphics.sprite.x"
type = "integer"

[[property]]
name = "playdate.graphics.sprite.y"
type = "integer"

[[property]]
name = "playdate.graphics.sprite.width"
type = "integer"

[[property]]
name = "playdate.graphics.sprite.height"
type = "integer"

[[property]]
name = "playdate.graphics.sprite.collisionResponse"
type = "integer|fun(self: playdate.graphics.sprite, other: playdate.graphics.sprite): integer|nil"

# The playdate.graphics.sprite.update class method is type "fun()"
# Declaring this property confuses the type checker when you call the class method.
# It gets worried the class method might be nil, but only :update() can be nil
# due to metatable magic. This was an API mistake. They should've had unique names.
#
# [[property]]
# name = "playdate.graphics.sprite:update"
# type = "nil|fun(self:playdate.graphics.sprite): nil"

[[property]]
name = "playdate.keyboard.text"
type = "string"

[[property]]
name = "playdate.metadata.name"
type = "string"

[[property]]
name = "playdate.metadata.author"
type = "string"

[[property]]
name = "playdate.metadata.description"
type = "string"

[[property]]
name = "playdate.metadata.bundleID"
type = "string"

[[property]]
name = "playdate.metadata.version"
type = "string"

[[property]]
name = "playdate.metadata.buildNumber"
type = "integer"

[[property]]
name = "playdate.metadata.imagePath"
type = "string|nil"

[[property]]
name = "playdate.metadata.launchSoundPath"
type = "string|nil"

[[property]]
name = "playdate.metadata.pdxversion"
type = "integer"
note = "observed value: 20000"

[[property]]
name = "playdate.metadata.contentWarning"
type = "string|nil"

[[property]]
name = "playdate.metadata.contentWarning2"
type = "string|nil"

[[property]]
name = "playdate.menu.item.title"
type = "string"

[[property]]
name = "playdate.menu.item.value"
type = "integer|boolean|string"

[[property]]  # TODO: Fix upstream: should be instance variable not class variable
name = "playdate.sound.controlsignal.events"
type = "ControlSignalEvent[]"

[[property]]
name = "playdate.systeminfo.buildtime"
type = "string"
note = "Observed \"20230706_121810\""

[[property]]
name = "playdate.systeminfo.commit"
type = "string"
note = "Observed \"f5a85fc69f11-2.0.1-release.156292-buildbot\""

[[property]]
name = "playdate.systeminfo.pdxcompatversion"
type = "integer"
note = "Observed 10000"

[[property]]
name = "playdate.systeminfo.pdxversion"
type = "integer"
note = "Observed 20000"

[[property]]
name = "playdate.timer.currentTime"
type = "integer"
note = "read only"

[[property]]
name = "playdate.timer.delay"
type = "integer"

[[property]]
name = "playdate.timer.discardOnCompletion"
type = "boolean"

[[property]]
name = "playdate.timer.duration"
type = "integer"

[[property]]
name = "playdate.timer.timeLeft"
type = "integer"
note = "read only"

[[property]]
name = "playdate.timer.repeats"
type = "boolean"

[[property]]
name = "playdate.timer.reverses"
type = "boolean"

[[property]]
name = "playdate.timer.timerEndedArgs"
type = "any[]|nil"

[[property]]
name = "playdate.ui.crankIndicator.clockwise"
type = "boolean"

[[property]]
name = "playdate.ui.gridview.needsDisplay"
type = "boolean"
note = "read-only"

[[property]]
name = "playdate.ui.gridview.backgroundImage"
type = "playdate.graphics.image|playdate.graphics.nineSlice"

[[property]]
name = "playdate.ui.gridview.isScrolling"
type = "boolean"
note = "read only"

[[property]]
name = "playdate.ui.gridview.scrollEasingFunction"
type = "fun(t:number, b:number, c:number, d:number, a?:number, p?:number): number"

[[property]]
name = "playdate.ui.gridview.easingAmplitude"
type = "number|nil"

[[property]]
name = "playdate.ui.gridview.easingPeriod"
type = "number|nil"

[[property]]
name = "playdate.ui.gridview.changeRowOnColumnWrap"
type = "boolean"

[[property]]
name = "playdate.ui.gridview.scrollCellsToCenter"
type = "boolean"

note = "returned from sprite:moveWithCollisions and sprite:checkCollisions"

[[property]]
name = "_CollisionData.sprite"
type = "playdate.graphics.sprite"

[[property]]
name = "_CollisionData.other"
type = "playdate.graphics.sprite"

[[property]]
name = "_CollisionData.type"
type = "integer" # TODO: CollisionType

[[property]]
name = "_CollisionData.overlaps"
type = "boolean"

[[property]]
name = "_CollisionData.ti"
type = "number" # 0.0-1.0

[[property]]
name = "_CollisionData.move"
type = "playdate.geometry.vector2D"

[[property]]
name = "_CollisionData.normal"
type = "playdate.geometry.vector2D"

[[property]]
name = "_CollisionData.touch"
type = "playdate.geometry.point"

[[property]]
name = "_CollisionData.spriteRect"
type = "playdate.geometry.rect"

[[property]]
name = "_CollisionData.otherRect"
type = "playdate.geometry.rect"

[[property]]
name = "_CollisionData.bounce"
type = "playdate.geometry.point|nil"

[[property]]
name = "_CollisionData.slide"
type = "playdate.geometry.point|nil"

[[property]]
name = "_CollisionInfo.sprite"
type = "playdate.graphics.sprite"

[[property]]
name = "_CollisionInfo.entryPoint"
type = "playdate.geometry.point"

[[property]]
name = "_CollisionInfo.exitPoint"
type = "playdate.geometry.point"

[[property]]
name = "_CollisionInfo.t1"
type = "number"

[[property]]
name = "_CollisionInfo.t2"
type = "number"

[[property]]
name = "_DateTime.year"
type = "integer"
note = "4-digit year"

[[property]]
name = "_DateTime.month"
type = "integer"
note = "month of the year 1-12"

[[property]]
name = "_DateTime.day"
type = "integer"
note = "day of the month 1-31"

[[property]]
name = "_DateTime.weekday"
type = "integer"
note = "day of the week, where 1 is Monday and 7 is Sunday"

[[property]]
name = "_DateTime.hour"
type = "integer"
note = "hour 0-23"

[[property]]
name = "_DateTime.minute"
type = "integer"
note = "minute 0-59"

[[property]]
name = "_DateTime.second"
type = "integer"
note = "second 0-59 (or 60 on a leap second)"

[[property]]
name = "_DateTime.millisecond"
type = "integer"
note = "millisecond 0-999"

[[property]]
name = "_InputHandler.AButtonDown"
type = "fun()|nil"

[[property]]
name = "_InputHandler.AButtonHeld"
type = "fun()|nil"

[[property]]
name = "_InputHandler.AButtonUp"
type = "fun()|nil"

[[property]]
name = "_InputHandler.BButtonDown"
type = "fun()|nil"

[[property]]
name = "_InputHandler.BButtonHeld"
type = "fun()|nil"

[[property]]
name = "_InputHandler.BButtonUp"
type = "fun()|nil"

[[property]]
name = "_InputHandler.downButtonDown"
type = "fun()|nil"

[[property]]
name = "_InputHandler.downButtonUp"
type = "fun()|nil"

[[property]]
name = "_InputHandler.leftButtonDown"
type = "fun()|nil"

[[property]]
name = "_InputHandler.leftButtonUp"
type = "fun()|nil"

[[property]]
name = "_InputHandler.rightButtonDown"
type = "fun()|nil"

[[property]]
name = "_InputHandler.rightButtonUp"
type = "fun()|nil"

[[property]]
name = "_InputHandler.upButtonDown"
type = "fun()|nil"

[[property]]
name = "_InputHandler.upButtonUp"
type = "fun()|nil"

[[property]]
name = "_InputHandler.cranked"
type = "fun(change:number, acceleratedChange:number)|nil"

[[property]]
name = "_PowerStatus.charging"
type = "boolean"

[[property]]
name = "_PowerStatus.USB"
type = "boolean"

[[property]]
name = "_PowerStatus.screws"
type = "boolean"

[[property]]
name = "_SystemStats[\" kernel\"]"
type = "number"
note = "Note the leading spaces on keys. Device only."

[[property]]
name = "_SystemStats[\" .game\"]"
type = "number"
note = "Note the leading spaces on keys. Device only."

[[property]]
name = "_SystemStats[\" .audio\"]"
type = "number"
note = "Note the leading spaces on keys. Device only."

[[property]]
name = "_ModTime.year"
type = "integer"
note = "4-digit year"

[[property]]
name = "_ModTime.month"
type = "integer"
note = "month of the year 1-12"

[[property]]
name = "_ModTime.day"
type = "integer"
note = "day of the month 1-31"

[[property]]
name = "_ModTime.hour"
type = "integer"
note = "hour 0-23"

[[property]]
name = "_ModTime.minute"
type = "integer"
note = "minute 0-59"

[[property]]
name = "_ModTime.second"
type = "integer"
note = "second 0-59 (or 60 on a leap second)"

[[property]]
name = "_SoundTrackNoteIn.step"
type = "integer"

[[property]]
name = "_SoundTrackNoteIn.note"
type = "number|string"
note = "midi note number or note name like \"Db3\""

[[property]]
name = "_SoundTrackNoteIn.length"
type = "integer"

[[property]]
name = "_SoundTrackNoteIn.velocity"
type = "number"

[[property]]
name = "_SoundTrackNoteOut.step"
type = "integer"

[[property]]
name = "_SoundTrackNoteOut.note"
type = "number"
note = "always midi note number"

[[property]]
name = "_SoundTrackNoteOut.length"
type = "integer"

[[property]]
name = "_SoundTrackNoteOut.velocity"
type = "number"

[[property]]
name = "_ControlSignalEvent.step"
type = "integer"

[[property]]
name = "_ControlSignalEvent.value"
type = "number"

[[property]] # TODO: Get this documented upstream
name = "_ControlSignalEvent.interpolate"
type = "boolean|nil"
